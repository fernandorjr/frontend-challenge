"use strict";(self.webpackChunkfrontend_challenge=self.webpackChunkfrontend_challenge||[]).push([[360],{8360:(V,u,i)=>{i.r(u),i.d(u,{PagesModule:()=>Y});var l=i(462),t=i(540),_=i(5312),b=i(1626);let d=(()=>{class e{constructor(n){this.httpCliente=n,this.baseUrl=_.c.apiBaseUrl}getAllCharecter(n){return this.httpCliente.get(n||`${this.baseUrl}/character`)}getCharacterByName(n){return this.httpCliente.get(`${this.baseUrl}/character/?name=${n}`)}getFavoritesCharacters(n){return this.httpCliente.get(`${this.baseUrl}/character/${n}`)}static#t=this.\u0275fac=function(r){return new(r||e)(t.KVO(b.Qq))};static#e=this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var p=i(436),c=i(177);const C=["*"];let g=(()=>{class e{constructor(){this.variant="filled"}static#t=this.\u0275fac=function(r){return new(r||e)};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-button"]],inputs:{variant:"variant"},ngContentSelectors:C,decls:2,vars:1,consts:[[1,"btn","custom-button",3,"ngClass"]],template:function(r,o){1&r&&(t.NAR(),t.j41(0,"button",0),t.SdG(1),t.k0s()),2&r&&t.Y8G("ngClass","filled"===o.variant?"btn-filled":"btn-outline")},dependencies:[c.YU],styles:[".custom-button[_ngcontent-%COMP%]{font-size:14px;font-weight:var(--font-weight-600);border-radius:12px;padding:13px 16px}.custom-button.btn-filled[_ngcontent-%COMP%]{background-color:var(--color-neutral-surface);color:#0a0a0a;border:none}.custom-button.btn-outline[_ngcontent-%COMP%]{background-color:transparent;color:var(--color-core-content-low);border:1px solid var(--color-core-border)}.custom-button.btn-outline[_ngcontent-%COMP%]:hover{background-color:var(--color-core-background);border-color:var(--color-neutral-surface);color:var(--color-core-content)}"]})}return e})();function x(e,a){if(1&e){const n=t.RV6();t.j41(0,"div",4)(1,"input",5),t.bIt("input",function(o){t.eBV(n);const s=t.XpG();return t.Njj(s.onChange(o))}),t.k0s(),t.j41(2,"label",6),t.EFF(3,"Pesquisar"),t.k0s()()}}function P(e,a){if(1&e){const n=t.RV6();t.j41(0,"app-button",7),t.bIt("click",function(){t.eBV(n);const o=t.XpG();return t.Njj(o.handleClearFavorites())}),t.EFF(1,"Limpar Favoritos"),t.k0s()}}let f=(()=>{class e{constructor(n){this.favoritesService=n,this.title="",this.inptSearch=!1,this.clearFavoritesBtn=!1,this.searchCharacter=new t.bkB}handleClearFavorites(){this.favoritesService.clearFavorites()}onChange(n){this.searchCharacter.emit(n.target.value)}static#t=this.\u0275fac=function(r){return new(r||e)(t.rXU(p.J))};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-header-pages"]],inputs:{title:"title",inptSearch:"inptSearch",clearFavoritesBtn:"clearFavoritesBtn"},outputs:{searchCharacter:"searchCharacter"},decls:5,vars:3,consts:[[1,"header-page","d-flex","flex-wrap","justify-content-between","align-items-center"],[1,"col-12","col-sm-3","text-center","text-sm-start"],["class","form-group floating-label position-relative col-12 col-sm-6 col-md-5 col-lg-3",4,"ngIf"],["variant","outline",3,"click",4,"ngIf"],[1,"form-group","floating-label","position-relative","col-12","col-sm-6","col-md-5","col-lg-3"],["type","text","id","floatingInput","placeholder"," ",1,"form-control",3,"input"],["for","floatingInput",1,"position-absolute"],["variant","outline",3,"click"]],template:function(r,o){1&r&&(t.j41(0,"div",0)(1,"h1",1),t.EFF(2),t.k0s(),t.DNE(3,x,4,0,"div",2),t.DNE(4,P,2,0,"app-button",3),t.k0s()),2&r&&(t.R7$(2),t.JRh(o.title),t.R7$(1),t.Y8G("ngIf",o.inptSearch),t.R7$(1),t.Y8G("ngIf",o.clearFavoritesBtn))},dependencies:[c.bT,g],styles:[".header-page[_ngcontent-%COMP%]{margin-top:48px}.header-page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:var(--font-family-creepster);font-size:48px;color:#00b5cc;-webkit-text-stroke:2px #B2DF28;font-weight:var(--font-weight-400)}.header-page[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border:1px solid var(--color-neutral-border-high);padding:13px var(--spacing-m) 13px var(--spacing-m);font-size:16px;background-color:transparent;box-shadow:none;transition:border-color .3s ease,box-shadow .3s ease;border-radius:var(--border-radius-s);color:var(--color-neutral-content-high)}.header-page[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:not(:placeholder-shown) + label[_ngcontent-%COMP%], .header-page[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus + label[_ngcontent-%COMP%]{transform:translateY(-1.4rem);font-size:12px}.header-page[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{top:.85rem;left:.75rem;font-size:16px;transition:.3s ease;background-color:var(--color-core-background);padding:0 .25rem;pointer-events:none;color:var(--color-neutral-content-high);font-weight:var(--font-weight-400)}"]})}return e})();function F(e,a){1&e&&(t.j41(0,"app-button",2),t.EFF(1,"Voltar para in\xedcio"),t.k0s())}let m=(()=>{class e{constructor(){this.title="",this.subtitle="",this.buttonHome=!1}static#t=this.\u0275fac=function(r){return new(r||e)};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-list-empty"]],inputs:{title:"title",subtitle:"subtitle",buttonHome:"buttonHome"},decls:6,vars:3,consts:[[1,"container","col-9","col-lg-10","d-flex","flex-column","justify-content-center","align-items-center"],["variant","filled","routerLink","/",4,"ngIf"],["variant","filled","routerLink","/"]],template:function(r,o){1&r&&(t.j41(0,"div",0)(1,"h2"),t.EFF(2),t.k0s(),t.j41(3,"p"),t.EFF(4),t.k0s(),t.DNE(5,F,2,0,"app-button",1),t.k0s()),2&r&&(t.R7$(2),t.JRh(o.title),t.R7$(2),t.JRh(o.subtitle),t.R7$(1),t.Y8G("ngIf",o.buttonHome))},dependencies:[c.bT,l.Wk,g],styles:[".container[_ngcontent-%COMP%]{margin-top:48px;background-color:var(--color-core-foreground);gap:16px;height:60vh}.container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;font-weight:var(--font-weight-700);color:var(--color-core-content)}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;font-weight:var(--font-weight-400);color:var(--color-core-content-low)}"]})}return e})();function k(e,a){if(1&e){const n=t.RV6();t.j41(0,"i",7),t.bIt("click",function(){t.eBV(n);const o=t.XpG();return t.Njj(o.handleRemoveFavorite(null==o.character?null:o.character.id))}),t.k0s()}}function y(e,a){if(1&e){const n=t.RV6();t.j41(0,"i",8),t.bIt("click",function(){t.eBV(n);const o=t.XpG();return t.Njj(o.handleAddFavorite(null==o.character?null:o.character.id))}),t.k0s()}}let M=(()=>{class e{constructor(n){this.favoritesService=n,this.character=null}handleAddFavorite(n){n&&this.favoritesService.addFavorite(n)}handleRemoveFavorite(n){n&&this.favoritesService.removeFavorite(n)}isFavorite(n){return!!n&&this.favoritesService.isFavorite(n)}static#t=this.\u0275fac=function(r){return new(r||e)(t.rXU(p.J))};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-card-character"]],inputs:{character:"character"},decls:9,vars:6,consts:[[1,"card"],["class","bi bi-heart-fill position-absolute",3,"click",4,"ngIf"],["class","bi bi-heart position-absolute",3,"click",4,"ngIf"],["alt","...",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title","text-truncate",2,"max-width","100%",3,"title"],[1,"card-text"],[1,"bi","bi-heart-fill","position-absolute",3,"click"],[1,"bi","bi-heart","position-absolute",3,"click"]],template:function(r,o){1&r&&(t.j41(0,"div",0),t.DNE(1,k,1,0,"i",1),t.DNE(2,y,1,0,"i",2),t.nrm(3,"img",3),t.j41(4,"div",4)(5,"h5",5),t.EFF(6),t.k0s(),t.j41(7,"p",6),t.EFF(8),t.k0s()()()),2&r&&(t.R7$(1),t.Y8G("ngIf",o.isFavorite(null==o.character?null:o.character.id)),t.R7$(1),t.Y8G("ngIf",!o.isFavorite(null==o.character?null:o.character.id)),t.R7$(1),t.Y8G("src",null==o.character?null:o.character.image,t.B4B),t.R7$(2),t.Y8G("title",null==o.character?null:o.character.name),t.R7$(1),t.SpI(" ",null==o.character?null:o.character.name," "),t.R7$(2),t.JRh(null==o.character?null:o.character.species))},dependencies:[c.bT],styles:[".card[_ngcontent-%COMP%]{width:14rem;height:18.625rem;border:1px solid var(--color-core-border);border-radius:var(--border-radius-s);background-color:var(--color-core-foreground);transition:all .2s ease-in-out}.card[_ngcontent-%COMP%]   .bi[_ngcontent-%COMP%]{right:14.5px;top:8px;font-size:20px;cursor:pointer;color:var(--color-core-content)}.card[_ngcontent-%COMP%]   .bi-heart-fill[_ngcontent-%COMP%]{color:var(--color-core-foreground)}.card[_ngcontent-%COMP%]:hover{box-shadow:var(--elevation-xl);border-color:var(--color-core-foreground);background-color:var(--color-core-background);transform:scale(1.02)}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:12;display:flex;flex-direction:column;gap:4px}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{padding:0;margin:0}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-family:var(--font-family-creepster);color:var(--color-core-content);font-weight:var(--font-weight-400);font-size:24px}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-core-content-low);font-size:16px;font-weight:var(--font-weight-400)}"]})}return e})();function O(e,a){1&e&&t.nrm(0,"app-card-character",2),2&e&&t.Y8G("character",a.$implicit)}let v=(()=>{class e{constructor(){this.charactersList=[],this.loadNextPage=new t.bkB}onScroll(n){const r=n.target;r.scrollHeight-r.scrollTop<=1.5*r.clientHeight&&this.loadNextPage.emit()}static#t=this.\u0275fac=function(r){return new(r||e)};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-list-characters"]],inputs:{charactersList:"charactersList"},outputs:{loadNextPage:"loadNextPage"},decls:2,vars:1,consts:[[1,"container","col-lg-9","d-flex","flex-wrap","gap-4","justify-content-center","align-items-center","overflow-auto",3,"scroll"],[3,"character",4,"ngFor","ngForOf"],[3,"character"]],template:function(r,o){1&r&&(t.j41(0,"div",0),t.bIt("scroll",function(h){return o.onScroll(h)}),t.DNE(1,O,1,1,"app-card-character",1),t.k0s()),2&r&&(t.R7$(1),t.Y8G("ngForOf",o.charactersList))},dependencies:[c.Sq,M],styles:[".container[_ngcontent-%COMP%]{margin-top:40px;height:72vh}[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;height:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--color-neutral-border-high);border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background-color:var(--color-neutral-border-high)}*[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:var(--color-neutral-border-high) transparent}"]})}return e})();function I(e,a){1&e&&(t.j41(0,"div")(1,"div",3)(2,"div",4)(3,"span",5),t.EFF(4,"Carregando..."),t.k0s()()()())}function L(e,a){if(1&e){const n=t.RV6();t.j41(0,"div")(1,"app-list-characters",7),t.bIt("loadNextPage",function(){t.eBV(n);const o=t.XpG(2);return t.Njj(o.handleLoadNextPage())}),t.k0s()()}if(2&e){const n=t.XpG(2);t.R7$(1),t.Y8G("charactersList",n.charactersList)}}function w(e,a){1&e&&t.nrm(0,"app-list-empty",8)}function E(e,a){if(1&e&&(t.DNE(0,L,2,1,"div",1),t.DNE(1,w,1,0,"ng-template",null,6,t.C5r)),2&e){const n=t.sdS(2),r=t.XpG();t.Y8G("ngIf",r.charactersList.length>0)("ngIfElse",n)}}let j=(()=>{class e{constructor(n){this.api=n,this.charactersList=[],this.pageInfo=null,this.currentPage=1,this.isLoading=!1,this.loadCharacters()}ngOnInit(){}loadCharacters(n){this.isLoading||(this.isLoading=!0,this.api.getAllCharecter(n).subscribe({next:r=>{this.pageInfo=r.info,this.charactersList=[...this.charactersList,...r.results],this.isLoading=!1},error:r=>{this.isLoading=!1}}))}handleSearch(n){""!==n?this.api.getCharacterByName(n).subscribe({next:r=>{this.pageInfo=r.info,this.charactersList=r.results},error:r=>{this.charactersList=[],console.error(r)}}):this.loadCharacters()}handleLoadNextPage(){!this.isLoading&&this.pageInfo?.next&&(this.currentPage++,this.loadCharacters(this.pageInfo.next))}static#t=this.\u0275fac=function(r){return new(r||e)(t.rXU(d))};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-home"]],decls:4,vars:3,consts:[["title","In\xedcio",3,"inptSearch","searchCharacter"],[4,"ngIf","ngIfElse"],["content",""],[1,"container","d-flex","justify-content-center","align-items-center"],["role","status",1,"spinner-border","text-light"],[1,"visually-hidden","text-white"],["noResults",""],[3,"charactersList","loadNextPage"],["title","Nada foi encontrado","subtitle","Tente realizar uma nova busca."]],template:function(r,o){if(1&r&&(t.j41(0,"app-header-pages",0),t.bIt("searchCharacter",function(h){return o.handleSearch(h)}),t.k0s(),t.DNE(1,I,5,0,"div",1),t.DNE(2,E,3,2,"ng-template",null,2,t.C5r)),2&r){const s=t.sdS(3);t.Y8G("inptSearch",!0),t.R7$(1),t.Y8G("ngIf",o.isLoading&&1==o.currentPage)("ngIfElse",s)}},dependencies:[f,m,v,c.bT]})}return e})();var T=i(1413),N=i(6977);function B(e,a){1&e&&(t.j41(0,"div")(1,"div",3)(2,"div",4)(3,"span",5),t.EFF(4,"Carregando..."),t.k0s()()()())}function G(e,a){if(1&e&&(t.j41(0,"div"),t.nrm(1,"app-list-characters",7),t.k0s()),2&e){const n=t.XpG(2);t.R7$(1),t.Y8G("charactersList",n.favoritesList)}}function R(e,a){1&e&&t.nrm(0,"app-list-empty",8),2&e&&t.Y8G("buttonHome",!0)}function $(e,a){if(1&e&&(t.DNE(0,G,2,1,"div",1),t.DNE(1,R,1,1,"ng-template",null,6,t.C5r)),2&e){const n=t.sdS(2),r=t.XpG();t.Y8G("ngIf",r.favorites.length>0)("ngIfElse",n)}}let S=(()=>{class e{constructor(n,r){this.favoritesService=n,this.apiService=r,this.unsubscribe$=new T.B,this.isLoading=!0,this.favoritesService.favorites$.pipe((0,N.Q)(this.unsubscribe$)).subscribe({next:o=>{this.favorites=o,this.attListFavorites(this.favorites)},error:o=>{this.favorites=[],console.error("Erro ao buscar favoritos:",o)}})}attListFavorites(n){this.isLoading=!0,this.apiService.getFavoritesCharacters(n).subscribe({next:r=>{this.favoritesList=Array.isArray(r)?r:[r],this.isLoading=!1},error:r=>{console.error("Erro ao buscar personagens:",r),this.isLoading=!1}})}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}static#t=this.\u0275fac=function(r){return new(r||e)(t.rXU(p.J),t.rXU(d))};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-favorites"]],decls:4,vars:3,consts:[["title","Favoritos",3,"clearFavoritesBtn"],[4,"ngIf","ngIfElse"],["content",""],[1,"container","d-flex","justify-content-center","align-items-center"],["role","status",1,"spinner-border","text-light"],[1,"visually-hidden","text-white"],["noResults",""],[3,"charactersList"],["title","Parece que voc\xea ainda n\xe3o tem favoritos","subtitle","Volte \xe0 p\xe1gina inicial e escolha os melhores para voc\xea.",3,"buttonHome"]],template:function(r,o){if(1&r&&(t.nrm(0,"app-header-pages",0),t.DNE(1,B,5,0,"div",1),t.DNE(2,$,3,2,"ng-template",null,2,t.C5r)),2&r){const s=t.sdS(3);t.Y8G("clearFavoritesBtn",o.favorites.length>0),t.R7$(1),t.Y8G("ngIf",o.isLoading)("ngIfElse",s)}},dependencies:[f,m,v,c.bT]})}return e})(),H=(()=>{class e{static#t=this.\u0275fac=function(r){return new(r||e)};static#e=this.\u0275mod=t.$C({type:e});static#n=this.\u0275inj=t.G2t({imports:[c.MD,l.iI]})}return e})();const D=[{path:"",component:j},{path:"favorites",component:S}];let Y=(()=>{class e{static#t=this.\u0275fac=function(r){return new(r||e)};static#e=this.\u0275mod=t.$C({type:e});static#n=this.\u0275inj=t.G2t({imports:[l.iI.forChild(D),H,c.MD,l.iI]})}return e})()}}]);